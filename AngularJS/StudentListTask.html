<!DOCTYPE html>
<html lang="en" ng-app = "studentListApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>StudentList</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
</head>
<body class="bg-light">
        <!-- Ctrl-1 -->
    <div class="container mt-5" style="max-width: 600px;" ng-controller="StudentController">
        <div class="card shadow-sm p-4">
            <h2 class="text-center mb-4">Student List App</h2>

  <form name="studentForm" novalidate>
    <div class="row g-2 mb-4">
        
        <div class="col-md-4">
            <input type="text" name="studentName" class="form-control" ng-model="newStudent.name" required placeholder="Name">
        </div>

        <div class="col-md-4">
            <input type="email" name="studentEmail" class="form-control" ng-model="newStudent.email" required placeholder="Email">
        </div>

        <div class="col-md-2">
            <input type="number" name="studentAge" class="form-control" ng-model="newStudent.age" required placeholder="Age">
        </div>

        <div class="col-md-2">
            <button class="btn btn-primary w-100 bg-black" ng-click="addStudent()" ng-disabled="studentForm.$invalid">
                Add 
            </button>
        </div>
        
    </div>
</form>

     </div>

  <div class="alert alert-warning text-center bg-black text-danger fw-bold" ng-show="students.length === 0">
    No students added yet.
</div>

<table class="table table-striped table-bordered" ng-show="students.length > 0">
    <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Age</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="student in students track by $index">
            <td>{{ student.id }}</td>
            <td>{{ student.name }}</td>
            <td>{{ student.email }}</td>
            <td>{{ student.age }}</td>
            <td>
                <button class="btn btn-danger btn-sm " ng-click="removeStudent($index)">Delete</button>
            </td>
        </tr>
    </tbody>
</table>   

</div> <!-- End of ctrl1  -->

</body>
<script>
(function(){
    var app = angular.module('studentListApp', []);

    app.controller('StudentController', function($scope) {
        $scope.students = [];
        
        $scope.newStudent = {}; 
        
        $scope.idCounter = 1;

        $scope.addStudent = function() {
            if ($scope.newStudent.name) {
                
                var studentObj = {
                    id: $scope.idCounter,
                    name: $scope.newStudent.name,
                    email: $scope.newStudent.email,
                    age: $scope.newStudent.age
                };

                $scope.students.push(studentObj); 
                
                $scope.idCounter++;
                
                $scope.newStudent = {}; 
            }
        };

        $scope.removeStudent = function(indexToRemove) {
            $scope.students.splice(indexToRemove, 1); 
        };
    });
})();
</script>
</html>